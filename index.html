<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Khaled Mohamed — Final Project</title>

<!-- Google font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#040405;
    --card:#0f1113;
    --muted:#bfc4c8;
    --accent:#c9a84b;
    --glass: rgba(255,255,255,0.03);
    --white: #f6f6f6;
  }

  /* Reset & layout */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--white);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}

  /* Video background */
  .video-bg{position:fixed;inset:0;z-index:0;overflow:hidden}
  .video-bg video{width:100%;height:100%;object-fit:cover;filter:contrast(.85) saturate(.9) brightness(.5);transform:scale(1.02)}
  .overlay-dim{position:fixed;inset:0;background:linear-gradient(180deg,rgba(4,4,5,0.12),rgba(4,4,5,0.6));z-index:1}

  /* Centered wrap */
  .wrap{position:relative;z-index:5;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .card{width:min(980px,96%);max-width:980px;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);border-radius:16px;padding:18px;backdrop-filter: blur(6px);box-shadow:0 12px 40px rgba(2,2,4,0.65);display:flex;gap:16px;align-items:flex-start}
  
  /* Left column (profile) */
  .left{width:34%;min-width:220px;padding:10px}
  .profile-row{display:flex;gap:12px;align-items:center}
  /* AVATAR -> make circular */
  .avatar{width:72px;height:72px;border-radius:50%;overflow:hidden;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(135deg,var(--card),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}
  .name-block{display:flex;flex-direction:column}
  .role{font-size:10px;color:var(--muted);letter-spacing:1px}
  .name{font-size:12px;color:var(--accent);font-weight:700;margin-top:6px}
  .links-btn{margin-left:8px;padding:8px 10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--white);font-weight:600;cursor:pointer;transition:all .18s ease}
  .links-btn:hover{box-shadow:0 8px 28px rgba(201,168,75,0.08);transform:translateY(-3px)}

  .desc{margin-top:12px;color:var(--muted);font-size:14px;line-height:1.5}

  /* Center: tabs & panels */
  .center{flex:1;padding:6px}
  .tabs{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:12px}
  .tab{padding:10px 16px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);font-weight:600;cursor:pointer;transition:all .28s cubic-bezier(.2,.9,.2,1)}
  .tab:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(0,0,0,0.6)}
  .tab.active{background:linear-gradient(90deg, rgba(201,168,75,0.12), rgba(201,168,75,0.06));border-color:rgba(201,168,75,0.16);color:#fff;box-shadow:0 10px 30px rgba(201,168,75,0.06)}

  .panel{background:transparent;border-radius:10px;padding:14px;text-align:center;min-height:170px;display:none;align-items:center;justify-content:center}
  .panel.active{display:flex;animation:panelIn .6s cubic-bezier(.22,.9,.2,1)}
  @keyframes panelIn{from{opacity:0;transform:translateY(8px) scale(.995)}to{opacity:1;transform:none}}

  .panel h3{margin:0 0 8px 0;font-size:18px}
  .panel p{color:var(--muted);font-size:14px;line-height:1.6;margin-bottom:12px}

  .actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.00));color:#fff;cursor:pointer;font-weight:600;transition:transform .18s ease,box-shadow .18s ease}
  .btn:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(0,0,0,0.5)}
  .btn.ghost{background:transparent;color:var(--muted);border-color:rgba(255,255,255,0.03)}
  .btn.primary{background:linear-gradient(90deg,var(--accent),#ffd97a);color:#0b0b0b;border:none;box-shadow:0 10px 30px rgba(201,168,75,0.08)}

  /* Right thumbnails (with shiny hover) */
  .right{width:170px;min-width:140px;display:flex;flex-direction:column;gap:10px}
  .thumb{height:90px;border-radius:10px;background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:13px;padding:8px;text-align:center;cursor:zoom-in;position:relative;overflow:hidden}
  .thumb img{width:100%;height:100%;object-fit:cover;border-radius:8px}
  /* shiny overlay for thumbs */
  .thumb::before{content:"";position:absolute;top:0;left:-80%;width:48%;height:100%;background:linear-gradient(120deg, transparent, rgba(255,255,255,0.45), transparent);transform:skewX(-25deg);transition:none}
  .thumb:hover::before{animation:thumbShine 0.9s forwards}
  @keyframes thumbShine{0%{left:-80%}100%{left:130%}}

  /* lightbox */
  .lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,2,2,0.85);z-index:40;padding:20px}
  .lightbox img{max-width:92%;max-height:92%;border-radius:8px;box-shadow:0 18px 70px rgba(0,0,0,0.7)}
  .lightbox.show{display:flex;animation:fadeZoom .45s cubic-bezier(.22,.9,.2,1)}
  @keyframes fadeZoom{from{opacity:0;transform:scale(.98)}to{opacity:1;transform:none}}

  /* intro overlay */
  .start-overlay{position:fixed;inset:0;z-index:50;background:#000;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#fff}
  .start-overlay .txt{font-size:20px;margin-bottom:10px;letter-spacing:0.6px}
  .start-overlay .hint{color:var(--muted);font-size:13px}

  /* custom cursor */
  .cursor{position:fixed;left:0;top:0;width:12px;height:12px;border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:100;transition:transform .12s linear, width .12s linear, height .12s linear;background:transparent;border:2px solid rgba(201,168,75,0.95);box-shadow:0 8px 28px rgba(201,168,75,0.12)}
  .cursor.dot{background:rgba(201,168,75,0.95);border:none;width:8px;height:8px}

  /* profile moving golden glow (around avatar) */
  .profile-wrapper{position:relative;display:inline-block}
  .profile-wrapper::after{
    content:"";
    position:absolute;
    inset:-8px;
    border-radius:50%;
    pointer-events:none;
    background:radial-gradient(circle at 30% 20%, rgba(255, 220, 120, 0.25), transparent 25%),
               conic-gradient(from 120deg, rgba(201,168,75,0.25), rgba(255,215,120,0.45), rgba(201,168,75,0.18), transparent 60%);
    mix-blend-mode: screen;
    filter: blur(6px) saturate(1.1);
    animation: rotateAndFade 5.5s linear infinite, pulseGlow 3.6s ease-in-out infinite;
    z-index:0;
  }
  @keyframes rotateAndFade{
    0%{transform:rotate(0deg)}
    50%{transform:rotate(180deg)}
    100%{transform:rotate(360deg)}
  }
  @keyframes pulseGlow{
    0%{opacity:0.45; transform: scale(0.99)}
    50%{opacity:0.9; transform: scale(1.03)}
    100%{opacity:0.45; transform: scale(0.99)}
  }

  /* responsiveness */
  @media (max-width:880px){
    .card{flex-direction:column;align-items:center;padding:16px}
    .left{width:100%;display:flex;align-items:center;gap:12px}
    .center{width:100%}
    .right{width:100%;flex-direction:row;gap:8px}
    .thumb{flex:1;height:72px}
  }
  @media (max-width:420px){
    .avatar{width:56px;height:56px}
    .name{font-size:16px}
    .tab{padding:8px 12px;font-size:13px}
  }
</style>
</head>
<body>

  <!-- Video background -->
  <div class="video-bg" aria-hidden="true">
    <video id="bgVideo" src="assets/background.mp4" autoplay muted loop playsinline></video>
  </div>
  <div class="overlay-dim" aria-hidden="true"></div>

  <!-- intro overlay -->
  <div class="start-overlay" id="startOverlay">
    <div class="txt">Click anywhere to start</div>
    <div class="hint">Tap or click to continue</div>
  </div>

  <!-- main card -->
  <div class="wrap">
    <div class="card" role="application" aria-label="Portfolio card">
      <!-- left -->
      <div class="left">
        <div class="profile-row">
          <!-- wrapped avatar for glow -->
          <div class="profile-wrapper" title="Profile">
            <div class="avatar">
              <img id="profileImg" src="assets/profile.jpg" alt="Profile image (replace with your image)">
            </div>
          </div>

          <div class="name-block">
            <div class="role">Graduate Project</div>
            <div class="name">Arch/Khaled Diab</div>
          </div>

          <!-- My Links button — now has a dedicated URL -->
          <button class="links-btn" id="linksBtn" data-url="https://guns.lol/loody" title="My Links">My Links</button>
        </div>

        <div class="desc">Designs exploring daylighting, materiality and human-centered circulation. Click each section to view renders, video, and the 3D model.</div>
      </div>

      <!-- center -->
      <div class="center">
        <div class="tabs" role="tablist" aria-label="Project sections">
          <button class="tab active" data-target="panel-main" role="tab" aria-selected="true">Main Project</button>
          <button class="tab" data-target="panel-video" role="tab">Video Project</button>
          <button class="tab" data-target="panel-3d" role="tab">3D Project</button>
        </div>

        <!-- panels -->
        <div id="panel-main" class="panel active" role="tabpanel">
          <div>
            <h3>Main Project</h3>
            <p>This is the comprehensive project package — site analysis, plans, sections, and material studies. Renders communicate lighting and spatial atmosphere.</p>
            <div class="actions">
              <!-- each button now uses data-url and will open a unique site -->
              <button class="btn primary" data-url="https://example.com/khaled/main-project">Open Project</button>
              <button class="btn ghost" data-img="assets/render-sample.jpg">Show Render</button>
              <button class="btn ghost" data-url="https://example.com/khaled/project-book">Project Book</button>
            </div>
          </div>
        </div>

        <div id="panel-video" class="panel" style="display:none" role="tabpanel">
          <div>
            <h3>Video Project</h3>
            <p>This short walkthrough highlights spatial flow, structure and landscape integration.</p>
            <div class="actions">
              <button class="btn primary" data-url="https://example.com/khaled/video">Watch Video</button>
              <!-- Transcript removed as requested -->
            </div>
          </div>
        </div>

        <div id="panel-3d" class="panel" style="display:none" role="tabpanel">
          <div>
            <h3>3D Project</h3>
            <p>Interactive model showing section cuts, material layers, and construction logic. Best experienced on desktop for full controls.</p>
            <div class="actions">
              <button class="btn primary" data-url="https://example.com/khaled/3d-model">Open 3D Model</button>
              <!-- Download Model removed as requested -->
            </div>
          </div>
        </div>
      </div>

      <!-- right thumbs -->
      <div class="right" aria-hidden="true">
        <div class="thumb" data-img="assets/concept.jpg" title="Concept">
          <img src="assets/concept.jpg" alt="Concept demo">
        </div>
        <div class="thumb" data-img="assets/site-plan.jpg" title="Site Plan">
          <img src="assets/site-plan.jpg" alt="Site plan demo">
        </div>
        <div class="thumb" data-img="assets/render-sample.jpg" title="Render sample">
          <img src="assets/render-sample.jpg" alt="Render sample">
        </div>
      </div>
    </div>
  </div>

  <!-- lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <img id="lightboxImg" src="" alt="Expanded image">
  </div>

  <!-- audio -->
  <audio id="bgAudio" src="assets/music.mp3" loop playsinline></audio>
  <audio id="clickSnd" src="assets/click.mp3"></audio>

  <!-- custom cursor -->
  <div id="cursor" class="cursor" aria-hidden="true"></div>

<script>
/* Helper: open placeholder links (replace example.com subpaths with your real URLs) */
function openLink(url){
  if(!url || url === '#') url = 'https://example.com';
  try{
    const w = window.open(url, '_blank', 'noopener,noreferrer');
    if(w) w.focus();
  }catch(e){ window.location.href = url; }
}

/* Tabs logic + click sound */
const tabs = document.querySelectorAll('.tab');
const panels = {
  'panel-main': document.getElementById('panel-main'),
  'panel-video': document.getElementById('panel-video'),
  'panel-3d': document.getElementById('panel-3d')
};
const clickSnd = document.getElementById('clickSnd');

tabs.forEach(tab=>{
  tab.addEventListener('click', (e)=>{
    tabs.forEach(t=>t.classList.remove('active'));
    tabs.forEach(t=>t.setAttribute('aria-selected','false'));
    tab.classList.add('active'); tab.setAttribute('aria-selected','true');
    // show panel
    for(const k in panels){ panels[k].style.display='none'; }
    const id = tab.getAttribute('data-target');
    panels[id].style.display = 'flex';
    // play sound
    clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
  });
});

/* Lightbox for thumbs & "Show Render" ghost button */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');

function showLightbox(src, alt){
  lightboxImg.src = src;
  lightboxImg.alt = alt || '';
  lightbox.classList.add('show');
  lightbox.setAttribute('aria-hidden','false');
}
function closeLightbox(){
  lightbox.classList.remove('show');
  lightbox.setAttribute('aria-hidden','true');
  setTimeout(()=>{ lightboxImg.src = ''; }, 300);
}

/* clickable thumbs */
document.querySelectorAll('.thumb').forEach(el=>{
  el.addEventListener('click', ()=> {
    const src = el.getAttribute('data-img') || el.querySelector('img')?.src;
    if(src) showLightbox(src, el.title || '');
    clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
  });
});

/* ghost buttons that show images (data-img) */
document.querySelectorAll('.btn.ghost[data-img]').forEach(b=>{
  b.addEventListener('click', ()=>{
    const src = b.getAttribute('data-img');
    if(src) showLightbox(src, '');
    clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
  });
});

/* lightbox close on click or ESC */
lightbox.addEventListener('click', closeLightbox);
window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeLightbox(); });

/* Start overlay: must be clicked to begin audio (and unmute if needed) */
const startOverlay = document.getElementById('startOverlay');
const bgAudio = document.getElementById('bgAudio');
const bgVideo = document.getElementById('bgVideo');

function startAll(){
  // try play audio & video
  bgAudio.muted = false;
  bgAudio.play().catch(()=>{});
  bgVideo.play().catch(()=>{});
  // small shine on card
  document.querySelector('.card').animate([{filter:'brightness(1)'},{filter:'brightness(1.06)'},{filter:'brightness(1)'}],{duration:1200,easing:'ease-in-out'});
  // fade overlay
  startOverlay.style.transition='opacity .9s ease';
  startOverlay.style.opacity=0;
  setTimeout(()=> startOverlay.style.display='none', 900);
  clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
}
startOverlay.addEventListener('click', startAll, {once:true});
startOverlay.addEventListener('touchstart', startAll, {once:true});

/* Delegated handler for elements that should open external links (data-url)
   Centralized so each button can have its own distinct URL. */
document.addEventListener('click', (e)=>{
  const el = e.target.closest('[data-url]');
  if(!el) return;
  // don't intercept elements that are meant to show images (they have data-img only)
  const url = el.getAttribute('data-url');
  if(!url) return;
  e.preventDefault();
  clickSnd.currentTime = 0; clickSnd.play().catch(()=>{});
  openLink(url);
});

/* Custom cursor behavior */
const cursor = document.getElementById('cursor');
window.addEventListener('mousemove', (e)=>{
  cursor.style.left = e.clientX + 'px';
  cursor.style.top  = e.clientY + 'px';
});
const interactables = document.querySelectorAll('button, .thumb, .tab');
interactables.forEach(el=>{
  el.addEventListener('mouseenter', ()=>{ cursor.classList.add('dot'); cursor.style.transform='translate(-50%,-50%) scale(1.6)'; });
  el.addEventListener('mouseleave', ()=>{ cursor.classList.remove('dot'); cursor.style.transform='translate(-50%,-50%) scale(1)'; });
});

/* Accessibility: keyboard navigation for tabs */
tabs.forEach((t)=>{ t.setAttribute('tabindex','0'); t.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') t.click(); }); });

/* Ensure main panel is visible on load */
document.addEventListener('DOMContentLoaded', ()=>{ panels['panel-main'].style.display='flex'; });

</script>
</body>
</html>
